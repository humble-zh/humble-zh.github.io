<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />

    

    

    <title>php笔记 | Zhihong&#39;s Blog</title>
    <meta name="author" content="Zhihong Li" />
    <meta name="keywords" content="zhbox" />
    <meta name="description" content="php小笔记php在线工具三目运算1234510%2==0 ? echo &amp;#x27;$a 是偶数&amp;#x27; : echo &amp;#x27;$a 是奇数&amp;#x27;;10%2==0 ? &amp;quot;&amp;quot; : echo &amp;#x27;$a 是奇数&amp;#x27;;$a = 10; $b = 6; $c = 12;$x = $a&amp;gt;$b ? ($a&amp;lt;$c ? $c-$a : $a-$c) : ($b&amp;lt;$c ? $c-$b : $b-$c);echo &amp;#x27;$x =&amp;#x27;." />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />

    
    <link rel="alternate" href="/atom.xml" title="Zhihong&#39;s Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/images/favicon.ico">
    

    <style type="text/css">
    @font-face {
        font-family: 'icomoon';
        src: url("/fonts/icomoon.eot?q628ml");
        src: url("/fonts/icomoon.eot?q628ml#iefix") format('embedded-opentype'),
             url("/fonts/icomoon.ttf?q628ml") format('truetype'),
             url("/fonts/icomoon.woff?q628ml") format('woff'),
             url("/fonts/icomoon.svg?q628ml#icomoon") format('svg');
        font-weight: normal;
        font-style: normal;
    }
    </style>
    
<link rel="stylesheet" href="/css/style.css">


    <!--[if lt IE 9]><style type="text/css">.nav-inner {top:0;}.author-meta {position:static;top:0;}.search-form {height:36px;}</style><script type="text/javascript" src="https://unpkg.com/html5shiv@3.7.3/dist/html5shiv.min.js"></script><![endif]-->
<meta name="generator" content="Hexo 5.3.0"></head>
<body>

    <main class="app">
        <header id="header" class="header clearfix">
    <div id="nav" class="nav">
    <div class="nav-mobile">
        <button id="open-panel" class="open-panel nav-mobile-item"><i class="icon-documents"></i></button>
        <h1 class="nav-mobile-title nav-mobile-item">Zhihong&#39;s Blog</h1>
        <button id="open-menus" class="open-panel nav-mobile-item"><i class="icon-library"></i></button>
    </div>

    <nav id="nav-inner" class="nav-inner">
        
            <a class="nav-item" href="/">
                <span class="nav-text">首页</span>
            </a>
        
            <a class="nav-item" href="/zhbox">
                <span class="nav-text">中盒</span>
            </a>
        
            <a class="nav-item" href="/tags">
                <span class="nav-text">标签</span>
            </a>
        
            <a class="nav-item" href="/archives">
                <span class="nav-text">归档</span>
            </a>
        
            <a class="nav-item" href="/about">
                <span class="nav-text">关于</span>
            </a>
        
    </nav>
</div>

    <aside id="aside" class="aside">
    <div id="aside-mask" class="aside-mask"></div>
    <div id="aside-inner" class="aside-inner">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"><i class="icon-search-stroke"></i></button><input type="hidden" name="sitesearch" value="https://humble-zh.github.io"></form>

        
        
        
        

        
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#php%E5%B0%8F%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">php小笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#php%E5%9C%A8%E7%BA%BF%E5%B7%A5%E5%85%B7"><span class="toc-number">1.1.</span> <span class="toc-text">php在线工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97"><span class="toc-number">1.2.</span> <span class="toc-text">三目运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.3.</span> <span class="toc-text">字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.3.1.</span> <span class="toc-text">数组转换为字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%87%E5%89%B2%E4%B8%BA%E6%95%B0%E7%BB%84"><span class="toc-number">1.3.2.</span> <span class="toc-text">字符串切割为数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0%E5%88%B0%E6%95%B0%E7%BB%84%E6%9C%AB%E5%B0%BE"><span class="toc-number">1.4.</span> <span class="toc-text">插入元素到数组末尾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%9B%B8%E5%87%8F"><span class="toc-number">1.5.</span> <span class="toc-text">数组相减</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E4%BF%AE%E6%94%B9%E6%95%B0%E7%BB%84"><span class="toc-number">1.6.</span> <span class="toc-text">遍历修改数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8D%A2%E8%A1%8C%E6%94%B9%E4%B8%BAbr%E6%8D%A2%E8%A1%8C"><span class="toc-number">1.7.</span> <span class="toc-text">换行改为br换行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A7%E8%A1%8Cshell%E5%91%BD%E4%BB%A4"><span class="toc-number">1.8.</span> <span class="toc-text">执行shell命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#system"><span class="toc-number">1.8.1.</span> <span class="toc-text">system()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exec"><span class="toc-number">1.8.2.</span> <span class="toc-text">exec()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#passthru"><span class="toc-number">1.8.3.</span> <span class="toc-text">passthru()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#form-checkbox"><span class="toc-number">1.9.</span> <span class="toc-text">form checkbox</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#form-%E6%8F%90%E4%BA%A4%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-number">1.10.</span> <span class="toc-text">form 提交多维数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4"><span class="toc-number">1.10.1.</span> <span class="toc-text">二维</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E7%BB%B4%E5%92%8C%E5%85%B3%E8%81%94%E6%95%B0%E7%BB%84"><span class="toc-number">1.10.2.</span> <span class="toc-text">三维和关联数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ajax%E6%8F%90%E4%BA%A4%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-number">1.11.</span> <span class="toc-text">ajax提交多维数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#json-encode-%E2%80%98-%E2%80%98%E4%B8%8D%E8%BD%AC%E4%B9%89%EF%BC%8C%E4%B8%AD%E6%96%87%E4%B8%8D%E8%BD%AC%E7%A0%81"><span class="toc-number">1.12.</span> <span class="toc-text">json_encode ‘&#x2F;‘不转义，中文不转码</span></a></li></ol></li></ol>
        
    </div>
</aside>

</header>

        <div id="content" class="content">
            <div id="wrapper" class="wrapper" style="max-width: 800px">
                <article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            php笔记
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="https://humble-zh.github.io/2022/02/22/php%E7%AC%94%E8%AE%B0/index.html">
    
    <i class="icon-calendar vm"></i>
    
    <time class="vm" datetime="2022-02-22T05:54:19.000Z" itemprop="datePublished">2022-02-22</time>
</a>

            
<div class="article-tag-list">
    <i class="icon-tag vm"></i>
    <a class="article-tag-link" href="/tags/php/" rel="tag">php</a>
</div>


        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <h1 id="php小笔记"><a href="#php小笔记" class="headerlink" title="php小笔记"></a>php小笔记</h1><h2 id="php在线工具"><a href="#php在线工具" class="headerlink" title="php在线工具"></a><a target="_blank" rel="noopener" href="https://www.runoob.com/try/runcode.php?filename=demo_intro&type=php">php在线工具</a></h2><h2 id="三目运算"><a href="#三目运算" class="headerlink" title="三目运算"></a>三目运算</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>%<span class="number">2</span>==<span class="number">0</span> ? <span class="keyword">echo</span> <span class="string">&#x27;$a 是偶数&#x27;</span> : <span class="keyword">echo</span> <span class="string">&#x27;$a 是奇数&#x27;</span>;</span><br><span class="line"><span class="number">10</span>%<span class="number">2</span>==<span class="number">0</span> ? <span class="string">&quot;&quot;</span> : <span class="keyword">echo</span> <span class="string">&#x27;$a 是奇数&#x27;</span>;</span><br><span class="line"><span class="variable">$a</span> = <span class="number">10</span>; <span class="variable">$b</span> = <span class="number">6</span>; <span class="variable">$c</span> = <span class="number">12</span>;</span><br><span class="line"><span class="variable">$x</span> = <span class="variable">$a</span>&gt;<span class="variable">$b</span> ? (<span class="variable">$a</span>&lt;<span class="variable">$c</span> ? <span class="variable">$c</span>-<span class="variable">$a</span> : <span class="variable">$a</span>-<span class="variable">$c</span>) : (<span class="variable">$b</span>&lt;<span class="variable">$c</span> ? <span class="variable">$c</span>-<span class="variable">$b</span> : <span class="variable">$b</span>-<span class="variable">$c</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;$x =&#x27;</span>.<span class="variable">$x</span>; <span class="comment">//$x =2</span></span><br></pre></td></tr></table></figure>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><h3 id="数组转换为字符串"><a href="#数组转换为字符串" class="headerlink" title="数组转换为字符串"></a>数组转换为字符串</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr</span> = <span class="keyword">array</span>(<span class="string">&#x27;Hello&#x27;</span>,<span class="string">&#x27;World!&#x27;</span>,<span class="string">&#x27;Beautiful&#x27;</span>,<span class="string">&#x27;Day!&#x27;</span>);</span><br><span class="line"><span class="keyword">echo</span> implode(<span class="string">&quot; &quot;</span>,<span class="variable">$arr</span>).<span class="string">&quot;\n&quot;</span>; <span class="comment">//Hello World! Beautiful Day!</span></span><br><span class="line"><span class="keyword">echo</span> join(<span class="string">&quot; &quot;</span>,<span class="variable">$arr</span>).<span class="string">&quot;\n&quot;</span>; <span class="comment">//同上</span></span><br><span class="line"><span class="keyword">echo</span> implode(<span class="variable">$arr</span>).<span class="string">&quot;\n&quot;</span>; <span class="comment">//!HelloWorld!BeautifulDay!</span></span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arrs</span> = <span class="keyword">array</span>(</span><br><span class="line">	<span class="keyword">array</span>(<span class="string">&#x27;topicid&#x27;</span> =&gt; <span class="number">1</span>),</span><br><span class="line">	<span class="keyword">array</span>(<span class="string">&#x27;topicid&#x27;</span> =&gt; <span class="number">2</span>),</span><br><span class="line">	<span class="keyword">array</span>(<span class="string">&#x27;topicid&#x27;</span> =&gt; <span class="number">6</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="variable">$topicid</span> = <span class="string">&#x27;&#x27;</span>; <span class="comment">//变量赋值为空</span></span><br><span class="line"><span class="keyword">foreach</span>(<span class="variable">$arrs</span> <span class="keyword">as</span> <span class="variable">$key</span>=&gt;<span class="variable">$vals</span>)&#123; <span class="variable">$topicid</span>.=<span class="variable">$vals</span>[<span class="string">&#x27;topicid&#x27;</span>].<span class="string">&#x27;,&#x27;</span>; &#125;</span><br><span class="line"><span class="keyword">echo</span> rtrim(<span class="variable">$topicid</span>, <span class="string">&#x27;,&#x27;</span>); <span class="comment">//1,2,6 使用 rtrim() 函数从字符串右端删除字符：</span></span><br></pre></td></tr></table></figure>
<h3 id="字符串切割为数组"><a href="#字符串切割为数组" class="headerlink" title="字符串切割为数组"></a>字符串切割为数组</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$str</span> = <span class="string">&quot;hello,,world&quot;</span>;</span><br><span class="line">print_r(explode(<span class="string">&quot;,&quot;</span>, <span class="variable">$str</span>)); <span class="comment">//Array ( [0] =&gt; hello [1] =&gt; [2] =&gt; world)</span></span><br><span class="line"><span class="comment">//将字符串分割成数组，参数二将字符串从左向右每3个字符分割一次，最后的不够3个了 有几个算几个</span></span><br><span class="line">print_r(str_split(<span class="variable">$str</span>, <span class="number">3</span>)); <span class="comment">//Array ( [0] =&gt; hel [1] =&gt; lo, [2] =&gt; ,wo [3] =&gt; rld)</span></span><br><span class="line">print_r(preg_split(<span class="string">&quot;/,+/&quot;</span>, <span class="variable">$str</span>)); <span class="comment">//Array ( [0] =&gt; hello [1] =&gt; world)</span></span><br></pre></td></tr></table></figure>
<h2 id="插入元素到数组末尾"><a href="#插入元素到数组末尾" class="headerlink" title="插入元素到数组末尾"></a>插入元素到数组末尾</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$a</span>=<span class="keyword">array</span>(<span class="string">&quot;red&quot;</span>,<span class="string">&quot;green&quot;</span>); array_push(<span class="variable">$a</span>,<span class="string">&quot;blue&quot;</span>,<span class="string">&quot;yellow&quot;</span>); print_r(<span class="variable">$a</span>); <span class="comment">// Array ( [0] =&gt; red [1] =&gt; green [2] =&gt; blue [3] =&gt; yellow)</span></span><br></pre></td></tr></table></figure>
<h2 id="数组相减"><a href="#数组相减" class="headerlink" title="数组相减"></a>数组相减</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$a1</span> = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="variable">$a2</span> = [<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>];</span><br><span class="line">print_r(array_intersect(<span class="variable">$a1</span>, <span class="variable">$a2</span>)); <span class="comment">// Array ( [1] =&gt; 2 [3] =&gt; 4)    //交集</span></span><br><span class="line">print_r(array_diff(<span class="variable">$a1</span>, array_intersect(<span class="variable">$a1</span>, <span class="variable">$a2</span>)));  <span class="comment">// Array ( [0] =&gt; 1 [2] =&gt; 3 [4] =&gt; 5) //减去交集(差集)</span></span><br></pre></td></tr></table></figure>
<h2 id="遍历修改数组"><a href="#遍历修改数组" class="headerlink" title="遍历修改数组"></a>遍历修改数组</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$array</span>= <span class="keyword">array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,);</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$array</span> <span class="keyword">as</span> &amp;<span class="variable">$value</span>) &#123; <span class="variable">$value</span> = <span class="variable">$value</span>*<span class="number">2</span>; &#125; <span class="comment">//使用引用符号</span></span><br><span class="line"><span class="keyword">unset</span>(<span class="variable">$value</span>); <span class="comment">//遍历后value依然引用着最后元素，可用unset取消</span></span><br><span class="line">print_r(<span class="variable">$array</span>); <span class="comment">//Array ( [0] =&gt; 2 [1] =&gt; 4 [2] =&gt; 6 [3] =&gt; 8 [4] =&gt; 10)</span></span><br></pre></td></tr></table></figure>
<h2 id="换行改为br换行"><a href="#换行改为br换行" class="headerlink" title="换行改为br换行"></a>换行改为br换行</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> nl2br(<span class="string">&quot;One line.\nAnother line.&quot;</span>);</span><br><span class="line"><span class="comment">//One line.&lt;br /&gt;</span></span><br><span class="line"><span class="comment">//Another line.</span></span><br></pre></td></tr></table></figure>
<h2 id="执行shell命令"><a href="#执行shell命令" class="headerlink" title="执行shell命令"></a>执行shell命令</h2><p>这三个函数在默认的情况下，都是被禁止了的，如果要使用这几个函数，就要先修改php的配置文件php.ini，查找关键字disable_functions，将这一项中的这几个函数名删除掉，然后注意重启apache。</p>
<h3 id="system"><a href="#system" class="headerlink" title="system()"></a>system()</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$last_line</span>=system(<span class="string">&quot;ping 192.168.16.1 -c1&quot;</span>, <span class="variable">$status</span>); <span class="comment">//输出到当前位置，返回最后一行字符串</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$status</span>)&#123; <span class="keyword">echo</span> <span class="string">&quot;执行失败\n&quot;</span>; &#125;</span><br><span class="line"><span class="keyword">else</span> &#123; <span class="keyword">echo</span> <span class="string">&quot;执行成功\n&quot;</span>; &#125;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;last_line:&quot;</span>.<span class="variable">$last_line</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">PING 192.168.16.1 (192.168.16.1) 56(84) bytes of data.</span><br><span class="line">64 bytes from 192.168.16.1: icmp_seq=1 ttl=63 time=2.37 ms</span><br><span class="line"></span><br><span class="line">--- 192.168.16.1 ping statistics ---</span><br><span class="line">1 packets transmitted, 1 received, 0% packet loss, time 0ms</span><br><span class="line">rtt min/avg/max/mdev = 2.372/2.372/2.372/0.000 ms</span><br><span class="line">执行成功</span><br><span class="line">last_line:rtt min/avg/max/mdev = 2.372/2.372/2.372/0.000 ms</span><br></pre></td></tr></table></figure>
<h3 id="exec"><a href="#exec" class="headerlink" title="exec()"></a>exec()</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$last_line</span>=exec(<span class="string">&quot;ping 192.168.16.1 -c1&quot;</span>, <span class="variable">$result</span>, <span class="variable">$status</span>); <span class="comment">//输出到数组$result，返回最后一行字符串</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$status</span>)&#123; <span class="keyword">echo</span> <span class="string">&quot;执行失败\n&quot;</span>;print_r(<span class="variable">$result</span>); &#125;</span><br><span class="line"><span class="keyword">else</span> &#123; <span class="keyword">echo</span> <span class="string">&quot;执行成功\n&quot;</span>;print_r(<span class="variable">$result</span>); &#125;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;last_line:&quot;</span>.<span class="variable">$last_line</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">执行成功</span><br><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [0] =&gt; PING 192.168.16.1 (192.168.16.1) 56(84) bytes of data.</span><br><span class="line">    [1] =&gt; 64 bytes from 192.168.16.1: icmp_seq=1 ttl=63 time=2.54 ms</span><br><span class="line">    [2] =&gt;</span><br><span class="line">    [3] =&gt; --- 192.168.16.1 ping statistics ---</span><br><span class="line">    [4] =&gt; 1 packets transmitted, 1 received, 0% packet loss, time 0ms</span><br><span class="line">    [5] =&gt; rtt min/avg/max/mdev = 2.536/2.536/2.536/0.000 ms</span><br><span class="line">)</span><br><span class="line">last_line:rtt min/avg/max/mdev = 2.536/2.536/2.536/0.000 ms</span><br></pre></td></tr></table></figure>
<h3 id="passthru"><a href="#passthru" class="headerlink" title="passthru()"></a>passthru()</h3><p><code>passthru(&#39;ls&#39;,$res);</code>输出到当前位置，命令执行结果存到$res,函数返回void</p>
<h2 id="form-checkbox"><a href="#form-checkbox" class="headerlink" title="form checkbox"></a>form checkbox</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--a.html--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;checkbox-form.php&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>使能: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;enable&quot;</span> <span class="attr">value</span>=<span class="string">&quot;enabled&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;testarray[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;apple&quot;</span> /&gt;</span>苹果<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;testarray[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;banana&quot;</span> /&gt;</span>香蕉<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;testarray[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;cat&quot;</span> /&gt;</span>猫 <span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;testarray[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;dog&quot;</span> /&gt;</span>狗 <span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">name</span>=<span class="string">&quot;提交&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Submit&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//checkbox-form.php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;enable&#x27;</span>]) &amp;&amp; <span class="variable">$_POST</span>[<span class="string">&#x27;enable&#x27;</span>] == <span class="string">&#x27;enabled&#x27;</span>) &#123; <span class="keyword">echo</span> <span class="string">&quot;enabled&lt;br/&gt;&quot;</span>; &#125;</span><br><span class="line"><span class="keyword">else</span> &#123; <span class="keyword">echo</span> <span class="string">&quot;disabled&lt;br/&gt;&quot;</span>; &#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;testarray&#x27;</span>]))&#123; var_dump(<span class="variable">$_POST</span>[<span class="string">&#x27;testarray&#x27;</span>]); <span class="keyword">if</span>(<span class="keyword">empty</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;testarray&#x27;</span>])) &#123; <span class="keyword">echo</span>(<span class="string">&quot;You select nothing.&quot;</span>); &#125; &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">disabled</span><br><span class="line">array(3) &#123; [0]=&gt; string(5) &quot;apple&quot; [1]=&gt; string(6) &quot;banana&quot; [2]=&gt; string(3) &quot;cat&quot; &#125;</span><br></pre></td></tr></table></figure>
<h2 id="form-提交多维数组"><a href="#form-提交多维数组" class="headerlink" title="form 提交多维数组"></a><a target="_blank" rel="noopener" href="https://code-boxx.com/post-array-html-form/">form 提交多维数组</a></h2><h3 id="二维"><a href="#二维" class="headerlink" title="二维"></a>二维</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;params[0][a]&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;params[0][b]&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;params[1][a]&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;params[1][b]&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">array(2) &#123;</span><br><span class="line">    [&quot;params&quot;]&#x3D;&gt; array(2) &#123;</span><br><span class="line">        [0]&#x3D;&gt; array(2) &#123;</span><br><span class="line">            [&quot;a&quot;]&#x3D;&gt; string(1) &quot;1&quot; [&quot;b&quot;]&#x3D;&gt; string(1) &quot;2&quot; &#125;</span><br><span class="line">        [1]&#x3D;&gt; array(2) &#123;</span><br><span class="line">            [&quot;a&quot;]&#x3D;&gt; string(1) &quot;3&quot; [&quot;b&quot;]&#x3D;&gt; string(1) &quot;4&quot; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="三维和关联数组"><a href="#三维和关联数组" class="headerlink" title="三维和关联数组"></a>三维和关联数组</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;params[hello]&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;params[world]&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;params[0][0][a]&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;params[0][0][b]&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;params[0][1][a]&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;params[0][1][b]&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;params[1][0][a]&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;params[1][0][b]&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;params[1][1][a]&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;params[1][1][b]&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">array(2) &#123;</span><br><span class="line">    [&quot;params&quot;]&#x3D;&gt; array(4) &#123;</span><br><span class="line">        [&quot;hello&quot;]&#x3D;&gt; string(1) &quot;h&quot;</span><br><span class="line">        [&quot;world&quot;]&#x3D;&gt; string(1) &quot;w&quot;</span><br><span class="line">        [0]&#x3D;&gt; array(2) &#123;</span><br><span class="line">            [0]&#x3D;&gt; array(2) &#123; [&quot;a&quot;]&#x3D;&gt; string(1) &quot;1&quot; [&quot;b&quot;]&#x3D;&gt; string(1) &quot;2&quot; &#125;</span><br><span class="line">            [1]&#x3D;&gt; array(2) &#123; [&quot;a&quot;]&#x3D;&gt; string(1) &quot;3&quot; [&quot;b&quot;]&#x3D;&gt; string(1) &quot;4&quot; &#125; &#125;</span><br><span class="line">        [1]&#x3D;&gt; array(2) &#123;</span><br><span class="line">            [0]&#x3D;&gt; array(2) &#123; [&quot;a&quot;]&#x3D;&gt; string(1) &quot;5&quot; [&quot;b&quot;]&#x3D;&gt; string(1) &quot;6&quot; &#125;</span><br><span class="line">            [1]&#x3D;&gt; array(2) &#123; [&quot;a&quot;]&#x3D;&gt; string(1) &quot;7&quot; [&quot;b&quot;]&#x3D;&gt; string(1) &quot;8&quot; &#125; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意：</p>
<ol>
<li>html代码中,提交name数组中的key不用加引号，加引号之后后端的键值中会存在引号</li>
<li>现在更流行的做法是ajax提交，用ajax提交的时候怎么获取表单中的值呢？通过jquery提供的serialize()方法可以很方便的将所有要提交的内容拼接成url字符串，然后通过get的方式就可以提交给后台了。</li>
</ol>
<h2 id="ajax提交多维数组"><a href="#ajax提交多维数组" class="headerlink" title="ajax提交多维数组"></a>ajax提交多维数组</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//var_dump($_POST);</span></span><br><span class="line">&lt;form id=<span class="string">&quot;myForm&quot;</span> method=<span class="string">&quot;post&quot;</span> onsubmit=<span class="string">&quot;return save()&quot;</span>&gt;</span><br><span class="line">    &lt;label&gt;Favorite Colors&lt;/label&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;fav[color][]&quot;</span> required value=<span class="string">&quot;red&quot;</span>/&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;fav[color][]&quot;</span> required value=<span class="string">&quot;green&quot;</span>/&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;fav[color][]&quot;</span> required value=<span class="string">&quot;blue&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;label&gt;Favorite Food&lt;/label&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;fav[food][]&quot;</span> required value=<span class="string">&quot;bacon&quot;</span>/&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;fav[food][]&quot;</span> required value=<span class="string">&quot;eggs&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;Submit&quot;</span>/&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">save</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// (A) GET FORM DATA</span></span><br><span class="line">  <span class="keyword">var</span> form = document.getElementById(<span class="string">&quot;myForm&quot;</span>),</span><br><span class="line">      data = <span class="keyword">new</span> FormData(form);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// (B) TO MANUALLY APPEND MORE DATA</span></span><br><span class="line">  data.append(<span class="string">&quot;address[]&quot;</span>, <span class="string">&quot;Foo Street 123&quot;</span>);</span><br><span class="line">  data.append(<span class="string">&quot;address[]&quot;</span>, <span class="string">&quot;Hello World #234&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// (C) AJAX FETCH</span></span><br><span class="line">  fetch(<span class="string">&quot;&lt;?php echo <span class="subst">$_SERVER</span>[&#x27;PHP_SELF&#x27;]; ?&gt;&quot;</span>, &#123; method:<span class="string">&quot;POST&quot;</span>, body:data &#125;)</span><br><span class="line">  .then(res=&gt;res.text()).then((response) =&gt; &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">array(3) &#123;</span><br><span class="line">  [&quot;fav&quot;]&#x3D;&gt; array(2) &#123;</span><br><span class="line">    [&quot;color&quot;]&#x3D;&gt; array(3) &#123;</span><br><span class="line">      [0]&#x3D;&gt; string(3) &quot;red&quot; [1]&#x3D;&gt; string(5) &quot;green&quot; [2]&#x3D;&gt; string(4) &quot;blue&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    [&quot;food&quot;]&#x3D;&gt; array(2) &#123;</span><br><span class="line">      [0]&#x3D;&gt; string(5) &quot;bacon&quot; [1]&#x3D;&gt; string(4) &quot;eggs&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  [&quot;address&quot;]&#x3D;&gt; array(2) &#123;</span><br><span class="line">    [0]&#x3D;&gt; string(14) &quot;Foo Street 123&quot;</span><br><span class="line">    [1]&#x3D;&gt; string(16) &quot;Hello World #234&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果需要用json，那ajax代码改为</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">// (A) ARRAY TO STRING</span></span><br><span class="line">  <span class="keyword">var</span> colors = [<span class="string">&quot;Red&quot;</span>, <span class="string">&quot;Green&quot;</span>, <span class="string">&quot;Blue&quot;</span>];</span><br><span class="line">  colors = <span class="built_in">JSON</span>.stringify(colors);</span><br><span class="line">  <span class="built_in">console</span>.log(colors); <span class="comment">// [&quot;Red&quot;,&quot;Green&quot;,&quot;Blue&quot;]</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// (B) SEND AS FLAT STRING</span></span><br><span class="line">  <span class="keyword">var</span> data = <span class="keyword">new</span> FormData(form);</span><br><span class="line">  data.append(<span class="string">&quot;colors&quot;</span>, colors);</span><br><span class="line">  fetch(<span class="string">&quot;SCRIPT&quot;</span>, &#123; <span class="attr">method</span>:<span class="string">&quot;POST&quot;</span>, <span class="attr">body</span>:data &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>后端处理代码为:<code>var_dump(json_decode($_POST[&quot;colors&quot;]));</code></p>
<h2 id="json-encode-‘-‘不转义，中文不转码"><a href="#json-encode-‘-‘不转义，中文不转码" class="headerlink" title="json_encode ‘/‘不转义，中文不转码"></a>json_encode ‘/‘不转义，中文不转码</h2><p>一般用json_encode($data,256)或json_encode($data,true) 来保证数据中的中文等特殊字符不被转码</p>
<p>如果数据中含有URL或是有转义字符（如斜杆/），这些字符将被转义，前面加上\，如：<code>http://www.xxx.com/xxxx</code> 将会被转义成<code>http:\/\/www.xxx.com\/xxxx</code> 。这种情况下，若接口方未对数据进行json_decode的话，这种URL就是不合法的，你直接在浏览器访问也会访问不到。</p>
<p>这就需要把数据转json时，既不被转义，中文也不转码，防范如下（JSON_UNESCAPED_SLASHES|JSON_UNESCAPED_UNICODE不要加引号）：</p>
<p>json_encode($data, JSON_UNESCAPED_SLASHES|JSON_UNESCAPED_UNICODE); // 斜杆（/）不转义，中文不转码</p>

        
    </section>
</article>



<a id="pagenext" href="/2021/12/28/linux%E7%AC%94%E8%AE%B0/" class="article-next" title="linux笔记"><i class="icon-arrow-right"></i></a>


<a id="pageprev" href="/2022/03/22/vscode%E7%AC%94%E8%AE%B0/" class="article-prev" title="vscose笔记"><i class="icon-arrow-left"></i></a>



<div class="comments">
    <div id="comments"></div>
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>
    new Gitalk({
        clientID: "7fbe80427f54741e289f",
        clientSecret: "f34ed5fd92e54c9000bd37ba951948cb939deff5",
        repo: "sanonz.github.io",
        owner: "sanonz",
        admin: ["sanonz"],
        id: "2ab63c54995fed08f228a087a64b61d8",
        distractionFreeMode: true,
        title: "php笔记",
        body: "https://humble-zh.github.io/2022/02/22/php%E7%AC%94%E8%AE%B0/",
        labels: ["php"]
    }).render('comments');
    </script>
</div>



            </div>
        </div>
        <footer class="footer">
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, Theme by <a href="https://github.com/sanonz/hexo-theme-concise" target="_blank">Concise</a>

    
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?e4027971a230b210f4671f485b33846a";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    
</footer>

    </main>

    <script type="text/javascript" src="https://unpkg.com/jquery@1.9.1/jquery.min.js"></script>
    <script type="text/javascript">
    $(function() {
        var nodes = {
            nav: $('#nav'),
            aside: $('#aside'),
            asideInner: $('#aside-inner'),
            navInner: $('#nav-inner')
        };

        var doing = false;
        nodes.asideInner.on('webkitAnimationEnd mozAnimationEnd oAnimationEnd oanimationend animationend', function() {
            if (nodes.aside.hasClass('mobile-open')) {
                nodes.aside.removeClass('mobile-open');
            } else {
                nodes.aside.removeClass('mobile-close panel-show');
            }
            doing = false;
        });
        $('#open-panel, #aside-mask').on('click', function() {
            if (doing) {
                return;
            }

            if (nodes.aside.hasClass('panel-show')) {
                nodes.aside.addClass('mobile-close');
            } else {
                nodes.aside.addClass('mobile-open panel-show');
            }
        });
        $('#open-menus').on('click', function() {
            nodes.navInner.slideToggle('normal', slideDone);
        });

        if (window.innerWidth <= 960) {
            setTimeout(function() {
                nodes.navInner.slideUp('normal', slideDone);
            }, 3000);
        }

        function slideDone() {
            if (nodes.navInner.css('display') !== 'none') {
                nodes.navInner.css('display', '');
            }
        }

        $(window).on('resize', function() {
            if ($(this).width() > 960) {
                nodes.navInner.css('display', '');
            }
        });
    });
    </script>
    
        
<script src="/js/scrollspy.min.js"></script>

        <script type="text/javascript">
        $(document.body).scrollspy({target: '#aside-inner'});

        $(window).on('resize', function() {
            var hw = $('#header').width();
            var ww = $('#wrapper').width();
            var space = ($(this).width() - hw - ww) / 2 / 2;

            var pageprev = $('#pageprev');
            var pagenext = $('#pagenext');
            var avg = (pageprev.width() + pagenext.width()) / 2

            if(space > avg) {
                var len = space - avg / 2;
                var styles = {position: 'fixed', top: '50%', marginTop: - (pageprev.width() + pagenext.width()) / 4}
                pageprev.css($.extend({left: hw + len}, styles));
                pagenext.css($.extend({right: len}, styles));
            } else {
                pageprev.removeAttr('style');
                pagenext.removeAttr('style');
            }
        }).trigger('resize');
        </script>
    

</body>
</html>
