<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />

    

    

    <title>TODO_after_manjaro_installed | Zhihong&#39;s Blog</title>
    <meta name="author" content="Zhihong Li" />
    <meta name="keywords" content="zhbox" />
    <meta name="description" content="manjaro安装后需要做的事情注意安装系统时选:上海，系统、编码 两个都选 zh-CN.UTF-8 免得后面系统全是英文快捷1234mkdir -p ~/li &amp;amp;&amp;amp; git clone https://gitee.com/humble-zh/zhbox-blog.git ~/li/.zbb;bash -x ~/li/.zbb/source/_posts/TODO_after_manjaro_installed/manjaro_config.shbash -x ~/li/.zbb" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />

    
    <link rel="alternate" href="/atom.xml" title="Zhihong&#39;s Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/images/favicon.ico">
    

    <style type="text/css">
    @font-face {
        font-family: 'icomoon';
        src: url("/fonts/icomoon.eot?q628ml");
        src: url("/fonts/icomoon.eot?q628ml#iefix") format('embedded-opentype'),
             url("/fonts/icomoon.ttf?q628ml") format('truetype'),
             url("/fonts/icomoon.woff?q628ml") format('woff'),
             url("/fonts/icomoon.svg?q628ml#icomoon") format('svg');
        font-weight: normal;
        font-style: normal;
    }
    </style>
    
<link rel="stylesheet" href="/css/style.css">


    <!--[if lt IE 9]><style type="text/css">.nav-inner {top:0;}.author-meta {position:static;top:0;}.search-form {height:36px;}</style><script type="text/javascript" src="https://unpkg.com/html5shiv@3.7.3/dist/html5shiv.min.js"></script><![endif]-->
<meta name="generator" content="Hexo 5.3.0"></head>
<body>

    <main class="app">
        <header id="header" class="header clearfix">
    <div id="nav" class="nav">
    <div class="nav-mobile">
        <button id="open-panel" class="open-panel nav-mobile-item"><i class="icon-documents"></i></button>
        <h1 class="nav-mobile-title nav-mobile-item">Zhihong&#39;s Blog</h1>
        <button id="open-menus" class="open-panel nav-mobile-item"><i class="icon-library"></i></button>
    </div>

    <nav id="nav-inner" class="nav-inner">
        
            <a class="nav-item" href="/">
                <span class="nav-text">首页</span>
            </a>
        
            <a class="nav-item" href="/zhbox">
                <span class="nav-text">中盒</span>
            </a>
        
            <a class="nav-item" href="/tags">
                <span class="nav-text">标签</span>
            </a>
        
            <a class="nav-item" href="/archives">
                <span class="nav-text">归档</span>
            </a>
        
            <a class="nav-item" href="/about">
                <span class="nav-text">关于</span>
            </a>
        
    </nav>
</div>

    <aside id="aside" class="aside">
    <div id="aside-mask" class="aside-mask"></div>
    <div id="aside-inner" class="aside-inner">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"><i class="icon-search-stroke"></i></button><input type="hidden" name="sitesearch" value="https://humble-zh.github.io"></form>

        
        
        
        

        
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#manjaro%E5%AE%89%E8%A3%85%E5%90%8E%E9%9C%80%E8%A6%81%E5%81%9A%E7%9A%84%E4%BA%8B%E6%83%85"><span class="toc-number">1.</span> <span class="toc-text">manjaro安装后需要做的事情</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">2.</span> <span class="toc-text">注意</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E6%8D%B7"><span class="toc-number">3.</span> <span class="toc-text">快捷</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%B9%E4%B8%BA%E5%9B%BD%E5%86%85%E6%BA%90"><span class="toc-number">4.</span> <span class="toc-text">改为国内源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0"><span class="toc-number">5.</span> <span class="toc-text">更新</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E6%BA%90"><span class="toc-number">6.</span> <span class="toc-text">添加源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%8D%A2%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93-simsun-ttc%E6%88%96MSYH-TTF"><span class="toc-number">7.</span> <span class="toc-text">更换中文字体(simsun.ttc或MSYH.TTF)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9i3%E9%85%8D%E7%BD%AE"><span class="toc-number">8.</span> <span class="toc-text">修改i3配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E4%BA%A4%E6%8D%A2Esc%E5%92%8CCaps"><span class="toc-number">9.</span> <span class="toc-text">Linux交换Esc和Caps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%BAfirefox-%E4%B9%9F%E5%8F%AF%E9%80%89chromium"><span class="toc-number">10.</span> <span class="toc-text">修改默认浏览器为firefox(也可选chromium)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E9%97%AD%E6%A1%8C%E9%9D%A2%E5%B7%A6%E4%B8%8B%E8%84%9A%E6%8F%90%E7%A4%BA"><span class="toc-number">11.</span> <span class="toc-text">关闭桌面左下脚提示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95-sunpinyin%E6%88%96libpinyin"><span class="toc-number">12.</span> <span class="toc-text">安装中文输入法(sunpinyin或libpinyin)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEvim-neovim"><span class="toc-number">13.</span> <span class="toc-text">安装配置vim&#x2F;neovim</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3-Windows-%E5%92%8C-Manjaro-%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4%E4%B8%8D%E4%B8%80%E8%87%B4-%E5%B7%AE8%E5%B0%8F%E6%97%B6%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">14.</span> <span class="toc-text">如何解决 Windows 和 Manjaro 双系统时间不一致_差8小时的问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%A1%8C%E9%9D%A2%E5%8F%B3%E4%B8%8A%E8%A7%92%E7%9A%84%E6%97%A5%E6%9C%9F%E6%98%BE%E7%A4%BA%E6%96%B9%E5%9D%97%E4%B9%B1%E7%A0%81"><span class="toc-number">15.</span> <span class="toc-text">解决桌面右上角的日期显示方块乱码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%8A%B6%E6%80%81%E6%A0%8F%E7%9A%84%E2%80%9Dno-battery%E2%80%9D"><span class="toc-number">16.</span> <span class="toc-text">删除状态栏的”no battery”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#i3status-conf-%E4%BF%AE%E6%94%B9%E7%8A%B6%E6%80%81%E6%A0%8F%E7%9A%84%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F"><span class="toc-number">17.</span> <span class="toc-text">~&#x2F;.i3status.conf 修改状态栏的时间日期格式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6"><span class="toc-number">18.</span> <span class="toc-text">安装常用软件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E4%B8%8D%E5%BF%85%E8%A6%81%E7%9A%84%E8%BD%AF%E4%BB%B6"><span class="toc-number">19.</span> <span class="toc-text">删除不必要的软件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85ohmyzsh"><span class="toc-number">20.</span> <span class="toc-text">安装ohmyzsh</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%97%A0%E5%A3%B0%E9%9F%B3"><span class="toc-number">21.</span> <span class="toc-text">系统无声音</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Manjaro-%E6%B2%A1%E6%9C%89%E5%A3%B0%E9%9F%B3-%E4%BC%AA%E8%BE%93%E5%87%BA-%E6%80%8E%E4%B9%88%E5%8A%9E"><span class="toc-number">21.1.</span> <span class="toc-text">Manjaro 没有声音(伪输出)怎么办</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Manjaro%E8%AE%BE%E7%BD%AE%E5%A3%B0%E9%9F%B3"><span class="toc-number">21.2.</span> <span class="toc-text">Manjaro设置声音</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#win10%E6%9B%B4%E6%96%B0%E5%90%8E%E6%97%A0%E6%B3%95%E5%BC%95%E5%AF%BCmanjaro"><span class="toc-number">22.</span> <span class="toc-text">win10更新后无法引导manjaro</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%83%85%E5%86%B5%E4%B8%80"><span class="toc-number">22.1.</span> <span class="toc-text">情况一</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%83%85%E5%86%B5%E4%BA%8C"><span class="toc-number">22.2.</span> <span class="toc-text">情况二</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E8%A3%85"><span class="toc-number">23.</span> <span class="toc-text">选装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%AD%97%E4%BD%93DPI"><span class="toc-number">23.1.</span> <span class="toc-text">修改字体DPI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A7%A6%E6%91%B8%E6%9D%BF%E4%B8%8A%E4%B8%8B%E6%BB%9A%E5%8A%A8"><span class="toc-number">23.2.</span> <span class="toc-text">修改触摸板上下滚动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8B%A5esc%E5%92%8Ccpas%E6%B2%A1%E6%9C%89%E5%88%87%E6%8D%A2%EF%BC%8C%E5%88%99%E5%9C%A8-i3-config%E6%96%B0%E5%A2%9E3%E8%A1%8C"><span class="toc-number">23.3.</span> <span class="toc-text">若esc和cpas没有切换，则在.i3&#x2F;config新增3行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%90%AFssh%E6%9C%8D%E5%8A%A1"><span class="toc-number">23.4.</span> <span class="toc-text">开启ssh服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E8%BF%9B%E4%B8%8D%E4%BA%86%E6%A1%8C%E9%9D%A2"><span class="toc-number">23.5.</span> <span class="toc-text">避免进不了桌面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%BD%95%E5%B1%8F%E5%B7%A5%E5%85%B7"><span class="toc-number">23.6.</span> <span class="toc-text">安装录屏工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85VSCode"><span class="toc-number">23.7.</span> <span class="toc-text">安装VSCode</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#win%E7%9A%84ntfs%E5%88%86%E5%8C%BA%E5%8F%AA%E8%AF%BB"><span class="toc-number">23.8.</span> <span class="toc-text">win的ntfs分区只读</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85mqtt-fx"><span class="toc-number">23.9.</span> <span class="toc-text">安装mqtt.fx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEmail"><span class="toc-number">23.10.</span> <span class="toc-text">配置mail</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WPS-Office"><span class="toc-number">23.11.</span> <span class="toc-text">WPS-Office</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#typora-free-0-11-18-1"><span class="toc-number">23.12.</span> <span class="toc-text">typora-free-0.11.18-1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#openwrt%E7%BC%96%E8%AF%91%E4%BE%9D%E8%B5%96%E8%BD%AF%E4%BB%B6"><span class="toc-number">23.13.</span> <span class="toc-text">openwrt编译依赖软件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ss-libev-amp-v2ray-plugin"><span class="toc-number">23.14.</span> <span class="toc-text">ss-libev&amp;v2ray-plugin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#yay%E6%97%A0%E6%B3%95proxychains"><span class="toc-number">23.15.</span> <span class="toc-text">yay无法proxychains</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85todesk"><span class="toc-number">23.16.</span> <span class="toc-text">安装todesk</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%90%91%E6%97%A5%E8%91%B5"><span class="toc-number">23.17.</span> <span class="toc-text">安装向日葵</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3Manjaro-i3%E7%A4%BE%E5%8C%BA%E7%89%88-compton%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE%E4%B8%8D%E6%AD%A3%E7%A1%AE%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">23.18.</span> <span class="toc-text">解决Manjaro i3社区版 compton默认配置不正确的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#deepin-TIM-QQ"><span class="toc-number">23.19.</span> <span class="toc-text">deepin TIM&#x2F;QQ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WeChat"><span class="toc-number">23.20.</span> <span class="toc-text">WeChat</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#python"><span class="toc-number">24.</span> <span class="toc-text">python</span></a></li></ol>
        
    </div>
</aside>

</header>

        <div id="content" class="content">
            <div id="wrapper" class="wrapper" style="max-width: 800px">
                <article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            TODO_after_manjaro_installed
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="https://humble-zh.github.io/2020/04/27/TODO_after_manjaro_installed/index.html">
    
    <i class="icon-calendar vm"></i>
    
    <time class="vm" datetime="2020-04-27T07:32:41.000Z" itemprop="datePublished">2020-04-27</time>
</a>

            
<div class="article-tag-list">
    <i class="icon-tag vm"></i>
    <a class="article-tag-link" href="/tags/linux/" rel="tag">linux</a>, <a class="article-tag-link" href="/tags/manjaro/" rel="tag">manjaro</a>
</div>


        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <h2 id="manjaro安装后需要做的事情"><a href="#manjaro安装后需要做的事情" class="headerlink" title="manjaro安装后需要做的事情"></a>manjaro安装后需要做的事情</h2><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>安装系统时选:上海，系统、编码 两个都选 zh-CN.UTF-8 免得后面系统全是英文</p>
<h2 id="快捷"><a href="#快捷" class="headerlink" title="快捷"></a>快捷</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~/li &amp;&amp; git <span class="built_in">clone</span> https://gitee.com/humble-zh/zhbox-blog.git ~/li/.zbb;</span><br><span class="line">bash -x ~/li/.zbb/<span class="built_in">source</span>/_posts/TODO_after_manjaro_installed/manjaro_config.sh</span><br><span class="line">bash -x ~/li/.zbb/<span class="built_in">source</span>/_posts/TODO_after_manjaro_installed/manjaro_config.sh vim</span><br><span class="line">bash -x ~/li/.zbb/<span class="built_in">source</span>/_posts/TODO_after_manjaro_installed/manjaro_config.sh ohmyzsh</span><br></pre></td></tr></table></figure>
<h2 id="改为国内源"><a href="#改为国内源" class="headerlink" title="改为国内源"></a>改为国内源</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman-mirrors -i -c China -m rank</span><br></pre></td></tr></table></figure>
<h2 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Syyu</span><br></pre></td></tr></table></figure>
<h2 id="添加源"><a href="#添加源" class="headerlink" title="添加源"></a>添加源</h2><p>在 /etc/pacman.conf 追加</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[archlinuxcn]</span><br><span class="line">SigLevel = Optional TrustedOnly</span><br><span class="line">Server = http://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/<span class="variable">$arch</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Syyu</span><br><span class="line">sudo pacman -S archlinuxcn-keyring</span><br></pre></td></tr></table></figure>
<h2 id="更换中文字体-simsun-ttc或MSYH-TTF"><a href="#更换中文字体-simsun-ttc或MSYH-TTF" class="headerlink" title="更换中文字体(simsun.ttc或MSYH.TTF)"></a>更换中文字体(simsun.ttc或MSYH.TTF)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S wqy-microhei</span><br><span class="line"><span class="built_in">cd</span> $(当前仓库)</span><br><span class="line">sudo cp -r ./<span class="built_in">source</span>/_posts/TODO_after_manjaro_installed/fonts/zhfonts /usr/share/fonts</span><br><span class="line"><span class="built_in">cd</span> /usr/share/fonts/zhfonts</span><br><span class="line">sudo mkfontscale</span><br><span class="line">sudo mkfontdir</span><br><span class="line">sudo fc-cache -fv</span><br></pre></td></tr></table></figure>
<h2 id="修改i3配置"><a href="#修改i3配置" class="headerlink" title="修改i3配置"></a>修改i3配置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> $(当前仓库)</span><br><span class="line">mv ~/.i3/config ~/.i3/config.bak</span><br><span class="line">ln -s $(<span class="built_in">pwd</span>)/<span class="built_in">source</span>/_posts/TODO_after_manjaro_installed/i3/config ~/.i3/config</span><br></pre></td></tr></table></figure>
<h2 id="Linux交换Esc和Caps"><a href="#Linux交换Esc和Caps" class="headerlink" title="Linux交换Esc和Caps"></a><a target="_blank" rel="noopener" href="https://superuser.com/questions/566871/how-to-map-the-caps-lock-key-to-escape-key-in-arch-linux/568573">Linux交换Esc和Caps</a></h2><p>在文件 ~/.i3/config 加入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exec_always --no-startup-id setxkbmap -option caps:swapescape &amp;</span><br></pre></td></tr></table></figure>
<h2 id="修改默认浏览器为firefox-也可选chromium"><a href="#修改默认浏览器为firefox-也可选chromium" class="headerlink" title="修改默认浏览器为firefox(也可选chromium)"></a>修改默认浏览器为firefox(也可选chromium)</h2><ol>
<li><p>安装firefox</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S firefox-i18n-zh-cn</span><br></pre></td></tr></table></figure></li>
<li><p>修改~/.i3/config对应行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bindsym <span class="variable">$mod</span>+F2 <span class="built_in">exec</span> firefox</span><br></pre></td></tr></table></figure></li>
<li><p>修改系统默认打开方式文件：~/.config/mimeapps.list</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.config/mimeapps.list</span><br><span class="line">:%s/userapp-Pale Moon/firefox/g</span><br></pre></td></tr></table></figure></li>
<li><p>修改~/.profile</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> BROWSER=/usr/bin/firefox</span><br></pre></td></tr></table></figure></li>
<li><p>卸载palemoon</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Rns <span class="built_in">local</span>/palemoon-bin</span><br></pre></td></tr></table></figure></li>
<li><p>重新加载配置或重启</p>
</li>
<li><p>安装插件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Tampermonkey(有些脚本在Greasemonkey无法运行)</span><br><span class="line">    AC-baidu:重定向优化百度搜狗谷歌必应搜索_favicon_双列</span><br><span class="line">    【玩的嗨】VIP工具箱,全网VIP视频免费破解去广告,一站式音乐搜索下载,获取B站封面,下载B站视频,上学吧答案获取等众多功能聚合</span><br><span class="line">    百度网盘直链满速下载助手</span><br><span class="line">    网盘自动填写访问码【威力加强版】</span><br><span class="line">    豆瓣资源下载大师：1秒搞定豆瓣电影|音乐|图书下载</span><br><span class="line">    持续更新 CSDN广告完全过滤、人性化脚本优化：不用再登录了！让你体验令人惊喜的崭新CSDN</span><br><span class="line">购物党实时比价工具(浏览器57以上版本安装)</span><br><span class="line">Adblock Plus - 免费的广告拦截器</span><br><span class="line">Vedio Speed Controller</span><br><span class="line">Vimium C 全键盘操作浏览器</span><br><span class="line">划词翻译  有道</span><br><span class="line">京价保 - 京东价保助手</span><br><span class="line">Video Downloader Pro  免费视频下载器</span><br><span class="line">网页截图</span><br><span class="line">Gesturefy  鼠标手势操作</span><br><span class="line">markdown-clipper 网页保存为markdown</span><br></pre></td></tr></table></figure>
<h2 id="关闭桌面左下脚提示"><a href="#关闭桌面左下脚提示" class="headerlink" title="关闭桌面左下脚提示"></a>关闭桌面左下脚提示</h2></li>
</ol>
<p>注释掉<code>/usr/bin/start_conky_maia</code>里的<code># conky -c /usr/share/conky/conky1.10_shortcuts_maia &amp;&amp;</code></p>
<h2 id="安装中文输入法-sunpinyin或libpinyin"><a href="#安装中文输入法-sunpinyin或libpinyin" class="headerlink" title="安装中文输入法(sunpinyin或libpinyin)"></a>安装中文输入法(sunpinyin或libpinyin)</h2><ol>
<li>安装输入法以及依赖<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S fcitx fcitx-im fcitx-configtool fcitx-ui-light ttf-dejavu adobe-source-han-sans-otc-fonts fcitx-libpinyin fcitx-sunpinyin fcitx-cloudpinyin</span><br></pre></td></tr></table></figure></li>
<li>给文件 ~/.xprofile 追加<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GTK_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> QT_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> XMODIFIERS=<span class="string">&quot;@im=fcitx&quot;</span></span><br></pre></td></tr></table></figure></li>
<li>给文件 ~/.profile 追加<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fcitx</span><br></pre></td></tr></table></figure>
<h2 id="安装配置vim-neovim"><a href="#安装配置vim-neovim" class="headerlink" title="安装配置vim/neovim"></a>安装配置<a target="_blank" rel="noopener" href="https://github.com/humble-zh/myvim.git">vim/neovim</a></h2></li>
</ol>
<p>在 ~/.profile 修改默认编辑器为vim</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> EDITOR=/usr/bin/vim</span><br></pre></td></tr></table></figure>

<h2 id="如何解决-Windows-和-Manjaro-双系统时间不一致-差8小时的问题"><a href="#如何解决-Windows-和-Manjaro-双系统时间不一致-差8小时的问题" class="headerlink" title="如何解决 Windows 和 Manjaro 双系统时间不一致_差8小时的问题"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_36349646/article/details/102597290">如何解决 Windows 和 Manjaro 双系统时间不一致_差8小时的问题</a></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S ntp</span><br><span class="line"><span class="comment">#sudo timedatectl set-ntp true</span></span><br><span class="line">sudo timedatectl set-local-rtc <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="解决桌面右上角的日期显示方块乱码"><a href="#解决桌面右上角的日期显示方块乱码" class="headerlink" title="解决桌面右上角的日期显示方块乱码"></a>解决桌面右上角的日期显示方块乱码</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /usr/share/conky/conky_maia /usr/share/conky/conky_maia.bak</span><br><span class="line">sudo vim /usr/share/conky/conky_maia</span><br><span class="line">:%s/Bitstream Vera/anti/g</span><br></pre></td></tr></table></figure>
<h2 id="删除状态栏的”no-battery”"><a href="#删除状态栏的”no-battery”" class="headerlink" title="删除状态栏的”no battery”"></a>删除状态栏的”no battery”</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> $(当前仓库)</span><br><span class="line">ln -s $(<span class="built_in">pwd</span>)/<span class="built_in">source</span>/_posts/TODO_after_manjaro_installed/i3status.conf ~/.i3status.conf</span><br></pre></td></tr></table></figure>
<p>拷贝 /etc/i3status.conf 到 ~/.i3status.conf ，注释 ~/.i3status.conf 以下行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">order += <span class="string">&quot;battery all&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="i3status-conf-修改状态栏的时间日期格式"><a href="#i3status-conf-修改状态栏的时间日期格式" class="headerlink" title="~/.i3status.conf 修改状态栏的时间日期格式"></a>~/.i3status.conf 修改状态栏的时间日期格式</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tztime <span class="built_in">local</span> &#123;</span><br><span class="line">        format = <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span></span><br><span class="line">        <span class="comment"># format = &quot; %d.%m. %H:%M &quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="安装常用软件"><a href="#安装常用软件" class="headerlink" title="安装常用软件"></a>安装常用软件</h2><p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Taking_a_screenshot_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">scrot</a>: 截图软件</p>
<p><a target="_blank" rel="noopener" href="https://inkscape.org/">inkscape</a>: 编辑图片画框画箭头等等</p>
<p><a href="">variety</a>: 更换壁纸</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ggreer/the_silver_searcher">the_silver_searcher</a>: 快速的代码命令行搜索工具 ag</p>
<p><a target="_blank" rel="noopener" href="https://github.com/wting/autojump">autojump</a>: 快速跳转目录</p>
<p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Fzf">fzf</a>: 终端命令行模糊查询历史</p>
<p><a target="_blank" rel="noopener" href="http://cloc.sourceforge.net/">cloc</a>: 统计代码行数，可区分文件类型以及空行和注释</p>
<p><a target="_blank" rel="noopener" href="https://zealdocs.org/">zeal</a>: 离线文档浏览器</p>
<p><a target="_blank" rel="noopener" href="https://github.com/albertlauncher/albert">albert</a>: 快捷搜索/执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S sshpass mosquitto scrot inkscape the_silver_searcher fzf base-devel cmake unrar unzip yay netcat cloc smplayer you-get albert</span><br><span class="line"></span><br><span class="line"><span class="comment">#echo &#x27;. /usr/share/autojump/autojump.bash&#x27; &gt;&gt; ~/.bashrc</span></span><br><span class="line"><span class="comment">#echo &#x27;. /usr/share/fzf/key-bindings.bash&#x27; &gt;&gt; ~/.bashrc</span></span><br><span class="line"><span class="comment">#echo &#x27;. /usr/share/fzf/completion.bash&#x27; &gt;&gt; ~/.bashrc</span></span><br><span class="line"><span class="comment">#source ~/.bashrc</span></span><br></pre></td></tr></table></figure>
<h2 id="删除不必要的软件"><a href="#删除不必要的软件" class="headerlink" title="删除不必要的软件"></a>删除不必要的软件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Rns $(pacman -Qdtq)</span><br></pre></td></tr></table></figure>
<h2 id="安装ohmyzsh"><a href="#安装ohmyzsh" class="headerlink" title="安装ohmyzsh"></a>安装<a target="_blank" rel="noopener" href="https://github.com/ohmyzsh/ohmyzsh/#manual-inspection">ohmyzsh</a></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c <span class="string">&quot;<span class="subst">$(wget -O- https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -Lo install.sh https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh</span><br><span class="line">sh install.sh</span><br></pre></td></tr></table></figure>
<p>如果出现 <code>Failed to connect to raw.githubusercontent.com port 443: Connection refused</code> ,就在/etc/hosts文件追加</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">199.232.28.133 raw.githubusercontent.com</span><br></pre></td></tr></table></figure>
<p>修改ohmyzsh配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> $(当前仓库)</span><br><span class="line">mv ~/.zshrc ~/.zshrc.bak</span><br><span class="line">ln -s $(<span class="built_in">pwd</span>)/<span class="built_in">source</span>/_posts/TODO_after_manjaro_installed/zshrc ~/.zshrc</span><br></pre></td></tr></table></figure>
<p>安装ohmyzsh两个插件<a target="_blank" rel="noopener" href="https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/INSTALL.md#oh-my-zsh">zsh-syntax-highlighting</a>，<a target="_blank" rel="noopener" href="https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md#oh-my-zsh">zsh-autosuggestions</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-syntax-highlighting</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-autosuggestions</span><br></pre></td></tr></table></figure>
<p>查看<code>git</code>命令缩写</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ~/.oh-my-zsh/plugins/git/git.plugin.zsh</span><br></pre></td></tr></table></figure>
<p><code>git status</code>中文乱码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.quotepath <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h2 id="系统无声音"><a href="#系统无声音" class="headerlink" title="系统无声音"></a>系统无声音</h2><p>测试声音 <code>speaker-test</code></p>
<p>小新pro14，因为是新电脑，声卡很新。使用aplay -l 命令 ，显示没有声卡就安装<code>sudo pacman -S sof-firmware</code></p>
<h3 id="Manjaro-没有声音-伪输出-怎么办"><a href="#Manjaro-没有声音-伪输出-怎么办" class="headerlink" title="Manjaro 没有声音(伪输出)怎么办"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43497702/article/details/104370104">Manjaro 没有声音(伪输出)怎么办</a></h3><p>可能就是你关机的时候是强制关机的，导致管理声音的软件异常退出，下次开机的时候管理声音的软件没有打开造成的，下面有5个方法，每种电脑可能都不一样，我尝试了多种方法，今天就来记录一下。每种方法使用完必须要重启一下电脑才可以的<br>方法1</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">amixer -D pulse sset Master toggle</span><br></pre></td></tr></table></figure>
<p>方法2</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm -R .config/pulse/</span><br><span class="line">sudo pacman -S pulseaudio</span><br></pre></td></tr></table></figure>
<p>方法3</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo gpasswd -a <span class="variable">$USER</span> audio</span><br><span class="line">sudo killall pulseaudio</span><br></pre></td></tr></table></figure>
<p>方法4</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pulseaudio --check</span><br><span class="line">pulseaudio --kill</span><br><span class="line">pulseaudio --start</span><br></pre></td></tr></table></figure>
<p>方法5</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl --user restart pulseaudio.service</span><br><span class="line">systemctl --user restart pulseaudio.socket</span><br></pre></td></tr></table></figure>
<p>参考文献</p>
<p><a target="_blank" rel="noopener" href="https://askubuntu.com/questions/15223/how-can-i-restart-pulseaudio-without-having-to-logout">https://askubuntu.com/questions/15223/how-can-i-restart-pulseaudio-without-having-to-logout</a><br><a target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/204522/how-does-pulseaudio-start">https://unix.stackexchange.com/questions/204522/how-does-pulseaudio-start</a><br><a target="_blank" rel="noopener" href="https://forum.manjaro.org/t/solved-manjaro-xfce-no-sound-dummy-output/26332">https://forum.manjaro.org/t/solved-manjaro-xfce-no-sound-dummy-output/26332</a></p>
<h3 id="Manjaro设置声音"><a href="#Manjaro设置声音" class="headerlink" title="Manjaro设置声音"></a><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/7c3dcb98a304">Manjaro设置声音</a></h3><ol>
<li>试试系统中有没有alsamixer命令，直接终端执行alsamixer(没有的话请安装alsa-utils)</li>
<li>在终端执行 aplay -l 查看声卡信息</li>
<li>执行: amixer scontrols</li>
<li>然后: amixer -c 1 scontrols</li>
<li>给(新建)文件 ~/.asoundrc 追加下面内容 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">defaults.pcm.card 1</span><br><span class="line">defaults.pcm.device 0</span><br><span class="line">defaults.ctl.card 1</span><br></pre></td></tr></table></figure></li>
<li>$mod+Shift+r</li>
</ol>
<h2 id="win10更新后无法引导manjaro"><a href="#win10更新后无法引导manjaro" class="headerlink" title="win10更新后无法引导manjaro"></a>win10更新后无法引导manjaro</h2><h3 id="情况一"><a href="#情况一" class="headerlink" title="情况一"></a>情况一</h3><p>先入winPE，使用<code>扇区小工具BOOTICE</code>，<code>UEFI - 修改启动序列 - WindowsBootManager - 启动分区</code> 改为linux的swap(8G)重启就可以进grub引导进linux，执行<code>sudo update-grub</code></p>
<p>再进winPE，使用<code>扇区小工具BOOTICE</code>，<code>UEFI - 修改启动序列 - WindowsBootManager - 启动文件</code>，见到从<code>\EFI\Microsoft\Boot\bootmgfw.efi</code>改为了<code>\EFI\Manjaro\grubx64.efi</code>就行(或者见到<code>WindowsBootManager</code>的是<code>\EFI\Microsoft\Boot\bootmgfw.efi</code>，<code>Manjaro</code>的是<code>\EFI\Manjaro\grubx64.efi</code>)</p>
<h3 id="情况二"><a href="#情况二" class="headerlink" title="情况二"></a>情况二</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">error: unknown filesystem.</span><br><span class="line">Entering rescue mode...</span><br><span class="line">grub rescue&gt; _</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://forum.manjaro.org/t/manjaro-wont-boot-after-windows-update/31109">Manjaro won’t boot after Windows Update</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ls #输出(hd0) (hd0,gpt6) (hd0,gpt5) (hd0,gpt4) (hd0,gpt3) (hd0,gpt2) (hd0,gpt1)</span><br><span class="line">ls (hd0,6)&#x2F;boot #输出了目录内容</span><br><span class="line">set root&#x3D;(hd0,6)</span><br><span class="line">set prefix&#x3D;(hd0,6)&#x2F;boot&#x2F;grub</span><br><span class="line">insmod normal</span><br><span class="line">normal #就可以进入系统然后按照下面的进行修复</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://wiki.manjaro.org/index.php/GRUB/Restore_the_GRUB_Bootloader#Reinstall_GRUB">GRUB/Restore the GRUB Bootloader</a></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Syu grub</span><br><span class="line">sudo update-grub</span><br><span class="line">sudo grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=manjaro --recheck</span><br><span class="line">sudo grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>
<h2 id="选装"><a href="#选装" class="headerlink" title="选装"></a>选装</h2><h3 id="修改字体DPI"><a href="#修改字体DPI" class="headerlink" title="修改字体DPI"></a>修改字体DPI</h3><p>i3wm 调节分辨率，鼠标大小等等</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cp ~/.Xresources ~/.Xresources.bak</span><br><span class="line"><span class="comment"># 修改 Xft.dpi: 96 为 Xft.dpi: 144</span></span><br><span class="line"><span class="comment"># sudo xrdb ~/.Xresources  # 使配置文件生效</span></span><br><span class="line"><span class="comment"># 修改 URxvt.font: 9x15,xft:TerminessTTFNerdFontMono</span></span><br><span class="line"><span class="comment"># 成为 URxvt.font: xft:TerminessTTFNerdFontMono:size=15</span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>
<h3 id="修改触摸板上下滚动"><a href="#修改触摸板上下滚动" class="headerlink" title="修改触摸板上下滚动"></a>修改触摸板上下滚动</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /etc/X11/xorg.conf.d/30-touchpad.conf /etc/X11/xorg.conf.d/30-touchpad.conf.bak</span><br></pre></td></tr></table></figure>
<figure class="highlight patch"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--- /etc/X11/xorg.conf.d/30-touchpad.conf.bak	2021-01-24 22:23:49.541749394 +0800</span></span><br><span class="line"><span class="comment">+++ /etc/X11/xorg.conf.d/30-touchpad.conf	2021-01-24 22:21:09.836616261 +0800</span></span><br><span class="line"><span class="meta">@@ -3,4 +3,6 @@</span></span><br><span class="line">     Driver &quot;libinput&quot;</span><br><span class="line">     MatchIsTouchpad &quot;on&quot;</span><br><span class="line">     Option &quot;Tapping&quot; &quot;on&quot;</span><br><span class="line"><span class="addition">+    Option &quot;NaturalScrolling&quot; &quot;true&quot;</span></span><br><span class="line"><span class="addition">+    Option &quot;ClickMethod&quot; &quot;clickfinger&quot; #(去掉,因为右键会失效)</span></span><br><span class="line"> EndSection</span><br></pre></td></tr></table></figure>
<p>联想小新pro14触摸板和键盘失灵</p>
<p>不能进系统:进入grub界面，按e编辑，在linux行的<code>quiet splash</code>后面加入<code>i8042.dumbkdb nomodeset</code>，按F10进入系统</p>
<p>能进系统:给<code>/etc/default/grub</code>的<code>GRUB_CMDLINE_LINUX_DEFAULT</code>行的<code>quiet splash</code>后面加<code>i8042.dumbkdb nomodeset</code>，然后<code>sudo update-grub</code></p>
<p><code>GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet splash i8042.direct i8042.dumbkbd&quot;</code></p>
<h3 id="若esc和cpas没有切换，则在-i3-config新增3行"><a href="#若esc和cpas没有切换，则在-i3-config新增3行" class="headerlink" title="若esc和cpas没有切换，则在.i3/config新增3行"></a>若esc和cpas没有切换，则在<code>.i3/config</code>新增3行</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">exec_always --no-startup-id xmodmap -e <span class="string">&quot;clear lock&quot;</span></span><br><span class="line">exec_always --no-startup-id xmodmap -e <span class="string">&quot;keycode 9 = Caps_Lock NoSymbol Caps_Lock&quot;</span></span><br><span class="line">exec_always --no-startup-id xmodmap -e <span class="string">&quot;keycode 66 = Escape NoSymbol Escape&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="开启ssh服务"><a href="#开启ssh服务" class="headerlink" title="开启ssh服务"></a>开启ssh服务</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> sshd.service <span class="comment">#开机启动</span></span><br><span class="line">sudo systemctl start sshd.service <span class="comment">#立即启动</span></span><br><span class="line">sudo systemctl restart sshd.service <span class="comment">#立即重启</span></span><br></pre></td></tr></table></figure>
<h3 id="避免进不了桌面"><a href="#避免进不了桌面" class="headerlink" title="避免进不了桌面"></a>避免进不了桌面</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S xf86-video-amdgpu</span><br></pre></td></tr></table></figure>
<h3 id="安装录屏工具"><a href="#安装录屏工具" class="headerlink" title="安装录屏工具"></a>安装录屏工具</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S obs-studio</span><br></pre></td></tr></table></figure>
<h3 id="安装VSCode"><a href="#安装VSCode" class="headerlink" title="安装VSCode"></a>安装VSCode</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S visual-studio-code-bin</span><br></pre></td></tr></table></figure>
<p>VSCode安装vim插件后，esc和caps没切换，在设置里搜<code>Keyboard:Dispatch</code>改为<code>keyCode</code>重启软件即可</p>
<h3 id="win的ntfs分区只读"><a href="#win的ntfs分区只读" class="headerlink" title="win的ntfs分区只读"></a><a target="_blank" rel="noopener" href="https://www.cuizhe.me/202005/945.cz">win的ntfs分区只读</a></h3><p>在win打开<code>Windows Powershell(管理员)</code>用下面命令关闭快速启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">powercfg /h off</span><br></pre></td></tr></table></figure>

<h3 id="安装mqtt-fx"><a href="#安装mqtt-fx" class="headerlink" title="安装mqtt.fx"></a>安装mqtt.fx</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S mqttfx-bin</span><br></pre></td></tr></table></figure>
<h3 id="配置mail"><a href="#配置mail" class="headerlink" title="配置mail"></a>配置mail</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S mailx</span><br></pre></td></tr></table></figure>
<p>修改 /etc/mail.rc 权限并追加内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> from=humble.li@evpowergroup.com smtp=<span class="string">&quot;smtp.mxhichina.com&quot;</span></span><br><span class="line"><span class="built_in">set</span> smtp-auth-user=<span class="string">&quot;humble.li@evpowergroup.com&quot;</span> smtp-auth-password=<span class="string">&quot;123456&quot;</span></span><br><span class="line"><span class="built_in">set</span> smtp-auth=login</span><br></pre></td></tr></table></figure>
<h3 id="WPS-Office"><a href="#WPS-Office" class="headerlink" title="WPS-Office"></a>WPS-Office</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S wps-office ttf-wps-fonts</span><br></pre></td></tr></table></figure>
<h3 id="typora-free-0-11-18-1"><a href="#typora-free-0-11-18-1" class="headerlink" title="typora-free-0.11.18-1"></a>typora-free-0.11.18-1</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S typora-free</span><br></pre></td></tr></table></figure>
<h3 id="openwrt编译依赖软件"><a href="#openwrt编译依赖软件" class="headerlink" title="openwrt编译依赖软件"></a>openwrt编译依赖软件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S --needed bash bc bin86 binutils bzip2 cdrkit core/<span class="built_in">which</span> \</span><br><span class="line">    diffutils fastjar findutils flex gawk gcc gettext git intltool \</span><br><span class="line">    libusb libxslt make ncurses openssl patch perl-extutils-makemaker \</span><br><span class="line">    pkgconf python3 rsync sharutils time unzip util-linux wget zlib</span><br></pre></td></tr></table></figure>
<h3 id="ss-libev-amp-v2ray-plugin"><a href="#ss-libev-amp-v2ray-plugin" class="headerlink" title="ss-libev&amp;v2ray-plugin"></a>ss-libev&amp;v2ray-plugin</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S shadowsocks-libev shadowsocks-v2ray-plugin proxychains</span><br><span class="line">v2ray-plugin --<span class="built_in">help</span></span><br><span class="line">nohup ss-local -c ~/v2ray.conf &amp;</span><br></pre></td></tr></table></figure>
<p>把<code>/etc/proxychains.conf</code>的<code>socks4*</code>改为<code>socks5 127.0.0.1 1080</code></p>
<p>浏览器：手动代理配置:127.0.0.1,端口:1080,使用SOCKSv5时代理DNS查询</p>
<h3 id="yay无法proxychains"><a href="#yay无法proxychains" class="headerlink" title="yay无法proxychains"></a>yay无法proxychains</h3><p>注释<code>/etc/proxychains.conf</code>的<code>proxy_dns</code></p>
<h3 id="安装todesk"><a href="#安装todesk" class="headerlink" title="安装todesk"></a>安装todesk</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yay -S todesk</span><br><span class="line">sudo systemctl start todeskd.service</span><br><span class="line">sudo systemctl is-enabled todeskd.service</span><br><span class="line">sudo systemctl enabled todeskd.service</span><br><span class="line"><span class="comment"># 如果开机没有自启动就</span></span><br><span class="line"><span class="comment"># sudo chmod 744 ~/.config/autostart/todesk.desktop</span></span><br></pre></td></tr></table></figure>
<h3 id="安装向日葵"><a href="#安装向日葵" class="headerlink" title="安装向日葵"></a>安装向日葵</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S sunloginclient</span><br></pre></td></tr></table></figure>
<p>每次开机都需要运行一次下面指令才能正常使用向日葵</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start runsunloginclient.service</span><br></pre></td></tr></table></figure>
<h3 id="解决Manjaro-i3社区版-compton默认配置不正确的问题"><a href="#解决Manjaro-i3社区版-compton默认配置不正确的问题" class="headerlink" title="解决Manjaro i3社区版 compton默认配置不正确的问题"></a><a target="_blank" rel="noopener" href="https://my.oschina.net/u/4396512/blog/3318096">解决Manjaro i3社区版 compton默认配置不正确的问题</a></h3><p>2020年1月10日 更新。默认配置可以使用透明，需要取消 compton.conf 中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#inactive-opacity = 0.93;</span></span><br><span class="line"><span class="comment">#active-opacity = 1;</span></span><br><span class="line"><span class="comment">#取消这两行的注释</span></span><br></pre></td></tr></table></figure>
<p>此问题默认存在于manjaro-i3-18.1.5-191229-linux54之前的版本中。 i3 社区版中compton包名已经改名为picom。 终端中运行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pkill comton <span class="comment">#关闭compton</span></span><br><span class="line">compton -b <span class="comment">#运行compton</span></span><br></pre></td></tr></table></figure>
<p>错误显示为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ 01/09/2020 18:38:49.762 parse_config_libconfig WARN ] Option `no-dock-shadow` is deprecated, and will be removed. Please use the wintype option `shadow` of `dock` instead.</span><br><span class="line">[ 01/09/2020 18:38:49.762 parse_config_libconfig WARN ] Option `menu-opacity` is deprecated, and will be removed.Please use the wintype option `opacity` of `popup_menu` and `dropdown_menu` instead.</span><br><span class="line">[ 01/09/2020 18:38:49.762 parse_config_libconfig WARN ] vsync option will take a boolean from now on. <span class="string">&quot;none&quot;</span> is interpreted as <span class="string">&quot;false&quot;</span> <span class="keyword">for</span> compatibility, but this will stop working soon</span><br><span class="line">[ 01/09/2020 18:38:49.763 parse_config_libconfig WARN ] glx-swap-method has been deprecated since v6, your setting <span class="string">&quot;undefined&quot;</span> should be removed.</span><br><span class="line">[ 01/09/2020 18:38:49.763 parse_config_libconfig WARN ] <span class="string">&quot;clear-shadow&quot;</span> is removed as an option, and is always enabled now. Consider removing it from your config file</span><br><span class="line">[ 01/09/2020 18:38:49.763 parse_config_libconfig WARN ] <span class="string">&quot;paint-on-overlay&quot;</span> has been removed as an option, and is enabled whenever possible</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> $(当前仓库)</span><br><span class="line">sed -i <span class="string">&#x27;s/compton/picom/g&#x27;</span> ~/.i3/config <span class="comment">#将.i3/config中的compton 替换为picom</span></span><br><span class="line">mv ~/.config/compton.conf ~/.config/compton.conf.old <span class="comment">#删除原有.config/compton.conf</span></span><br><span class="line">vim ~/.config/picom.conf <span class="comment">#新建picom.conf文件，输入内容</span></span><br><span class="line">cp <span class="variable">$&#123;pwd&#125;</span>/<span class="built_in">source</span>/_posts/TODO_after_manjaro_installed/picom.conf ~/.config/picom.conf</span><br><span class="line">reboot <span class="comment">#重启系统</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ~/.config/picom.conf</span></span><br><span class="line"><span class="comment"># Shadow</span></span><br><span class="line">shadow = <span class="literal">true</span>;</span><br><span class="line"><span class="comment"># no-dnd-shadow = true;</span></span><br><span class="line"><span class="comment">#no-dock-shadow = true;</span></span><br><span class="line"><span class="comment">#clear-shadow = true;</span></span><br><span class="line">detect-rounded-corners = <span class="literal">true</span>;</span><br><span class="line">shadow-radius = 5;</span><br><span class="line">shadow-offset-x = 1;</span><br><span class="line">shadow-offset-y = 1;</span><br><span class="line">shadow-opacity = .3;</span><br><span class="line">shadow-ignore-shaped = <span class="literal">false</span>;</span><br><span class="line">shadow-exclude = [</span><br><span class="line">    <span class="string">&quot;name = &#x27;Notification&#x27;&quot;</span>,</span><br><span class="line"><span class="comment"># workaround for conky until it provides window properties:</span></span><br><span class="line">    <span class="string">&quot;override_redirect = 1 &amp;&amp; !WM_CLASS@:s&quot;</span>,</span><br><span class="line">    <span class="string">&quot;class_g ?= &#x27;Dmenu&#x27;&quot;</span>,</span><br><span class="line"><span class="comment">#    &quot;class_g ?= &#x27;Dunst&#x27;&quot;,</span></span><br><span class="line"><span class="comment"># disable shadows for hidden windows:</span></span><br><span class="line">    <span class="string">&quot;_NET_WM_STATE@:32a *= &#x27;_NET_WM_STATE_HIDDEN&#x27;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;_GTK_FRAME_EXTENTS@:c&quot;</span>,</span><br><span class="line"><span class="comment"># disables shadows on sticky windows:</span></span><br><span class="line"><span class="comment">#    &quot;_NET_WM_STATE@:32a *= &#x27;_NET_WM_STATE_STICKY&#x27;&quot;,</span></span><br><span class="line"><span class="comment"># disables shadows on i3 frames</span></span><br><span class="line">    <span class="string">&quot;class_g ?= &#x27;i3-frame&#x27;&quot;</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment"># shadow-exclude-reg = &quot;x10+0+0&quot;;</span></span><br><span class="line"><span class="comment"># xinerama-shadow-crop = true;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#menu-opacity = 0.95;</span></span><br><span class="line"><span class="comment">#inactive-opacity = 0.93;</span></span><br><span class="line"><span class="comment">#active-opacity = 1;</span></span><br><span class="line"><span class="comment">#alpha-step = 0.01;</span></span><br><span class="line"><span class="comment">#inactive-dim = 0.0;</span></span><br><span class="line"><span class="comment">#blur-background = false;</span></span><br><span class="line"><span class="comment">#blur-kern = &quot;3x3box&quot;;</span></span><br><span class="line"></span><br><span class="line">fading = <span class="literal">false</span>;</span><br><span class="line">fade-delta = 1;</span><br><span class="line">fade-in-step = 0.03;</span><br><span class="line">fade-out-step = 0.03;</span><br><span class="line">fade-exclude = [ ];</span><br><span class="line"></span><br><span class="line">backend = <span class="string">&quot;xrender&quot;</span>;</span><br><span class="line">mark-wmwin-focused = <span class="literal">true</span>;</span><br><span class="line">mark-ovredir-focused = <span class="literal">true</span>;</span><br><span class="line">detect-client-opacity = <span class="literal">true</span>;</span><br><span class="line">unredir-if-possible = <span class="literal">true</span>;</span><br><span class="line">refresh-rate = 0;</span><br><span class="line">vsync = <span class="literal">false</span>;</span><br><span class="line">dbe = <span class="literal">false</span>;</span><br><span class="line"><span class="comment">#paint-on-overlay = true;</span></span><br><span class="line">focus-exclude = [ <span class="string">&quot;class_g = &#x27;Cairo-clock&#x27;&quot;</span> ];</span><br><span class="line">detect-transient = <span class="literal">true</span>;</span><br><span class="line">detect-client-leader = <span class="literal">true</span>;</span><br><span class="line">invert-color-include = [ ];</span><br><span class="line">glx-copy-from-front = <span class="literal">false</span>;</span><br><span class="line"><span class="comment">#glx-swap-method = &quot;undefined&quot;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#opacity-rule = [</span></span><br><span class="line"><span class="comment">#&quot;99:name *?= &#x27;Call&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:class_g = &#x27;Chromium&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:name *?= &#x27;Conky&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:class_g = &#x27;Darktable&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;50:class_g = &#x27;Dmenu&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:name *?= &#x27;Event&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:class_g = &#x27;Firefox&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:class_g = &#x27;GIMP&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:name *?= &#x27;Image&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:class_g = &#x27;Lazpaint&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:class_g = &#x27;Midori&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:name *?= &#x27;Minitube&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:class_g = &#x27;Mousepad&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:name *?= &#x27;MuseScore&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;90:name *?= &#x27;Page Info&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:name *?= &#x27;Pale Moon&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;90:name *?= &#x27;Panel&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:class_g = &#x27;Pinta&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;90:name *?= &#x27;Restart&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:name *?= &#x27;sudo&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:name *?= &#x27;Screenshot&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:class_g = &#x27;Viewnior&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:class_g = &#x27;VirtualBox&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:name *?= &#x27;VLC&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;99:name *?= &#x27;Write&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;93:class_g = &#x27;URxvt&#x27; &amp;&amp; !_NET_WM_STATE@:32a&quot;,</span></span><br><span class="line"><span class="comment">#&quot;0:_NET_WM_STATE@:32a *= &#x27;_NET_WM_STATE_HIDDEN&#x27;&quot;,</span></span><br><span class="line"><span class="comment">#&quot;96:_NET_WM_STATE@:32a *= &#x27;_NET_WM_STATE_STICKY&#x27;&quot;</span></span><br><span class="line"><span class="comment">#];</span></span><br><span class="line"></span><br><span class="line">wintypes :</span><br><span class="line">&#123;</span><br><span class="line">  tooltip :</span><br><span class="line">  &#123;</span><br><span class="line">    fade = <span class="literal">true</span>;</span><br><span class="line">    shadow = <span class="literal">false</span>;</span><br><span class="line">    opacity = 0.85;</span><br><span class="line">    focus = <span class="literal">true</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  fullscreen :</span><br><span class="line">  &#123;</span><br><span class="line">    fade = <span class="literal">true</span>;</span><br><span class="line">    shadow = <span class="literal">false</span>;</span><br><span class="line">    opacity = 1;</span><br><span class="line">    focus = <span class="literal">true</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">````</span><br><span class="line"></span><br><span class="line"><span class="comment">### [安装vnc](http://blog.lujun9972.win/blog/2018/09/20/%E5%9C%A8archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEvnc-server/index.html)</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">sudo pacman -S tigervnc</span><br><span class="line">vncpasswd</span><br><span class="line"><span class="comment">#Would you like to enter a view-only password (y/n)? n</span></span><br><span class="line">sudo cp /lib/systemd/system/vncserver@.service /etc/systemd/system/vncserver@\:1.service</span><br><span class="line">sudo vim /etc/systemd/system/vncserver@:1.service</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl start vncserver@:1.service</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> vncserver@:1.service</span><br><span class="line">ls ~/.vnc</span><br><span class="line">vncserver :1</span><br><span class="line">netstat -pantu|grep 5901</span><br><span class="line"><span class="comment"># 客户端开始连接  vncviewer 192.168.1.3:5901</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /etc/systemd/system/vncserver@:1.service</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=Remote desktop service (VNC)</span><br><span class="line">After=syslog.target network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">ExecStartPre=/bin/sh -c <span class="string">&#x27;/usr/bin/vncserver -kill %i &gt; /dev/null 2&gt;&amp;1 || :&#x27;</span></span><br><span class="line">ExecStart=/usr/bin/vncserver_wrapper zh %i</span><br><span class="line">ExecStop=/bin/sh -c <span class="string">&#x27;/usr/bin/vncserver -kill %i &gt; /dev/null 2&gt;&amp;1 || :&#x27;</span></span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>




<h3 id="deepin-TIM-QQ"><a href="#deepin-TIM-QQ" class="headerlink" title="deepin TIM/QQ"></a><a target="_blank" rel="noopener" href="https://hacpai.com/article/1552717494529">deepin TIM/QQ</a></h3><p>前提：添加 archlinuxcn 源。在 /etc/pacman.conf 里加入以下代码：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[archlinuxcn]</span><br><span class="line">SigLevel = Never</span><br><span class="line">Server = http://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/<span class="variable">$arch</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Sy</span><br></pre></td></tr></table></figure>
<p>安装 TIM</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S deepin.com.qq.office</span><br><span class="line">nohup /opt/deepinwine/apps/Deepin-WeChat/run.sh &gt; /dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>
<p>无法启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">X Error of failed request: BadWindow (invalid Window parameter)</span><br><span class="line">Major opcode of failed request: 20 (X_GetProperty)</span><br><span class="line">Resource id <span class="keyword">in</span> failed request:</span><br><span class="line">0x0 Serial number of failed request:</span><br><span class="line">10 Current serial number <span class="keyword">in</span> output stream: 10</span><br></pre></td></tr></table></figure>
<p>解决方案</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yaourt -S gnome-settings-daemon</span><br><span class="line">nohup /usr/lib/gsd-xsettings &gt; /dev/null 2&gt;&amp;1 &amp;</span><br><span class="line">nohup /opt/deepinwine/apps/Deepin-WeChat/run.sh &gt; /dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>
<p>开机启动 /usr/lib/gsd-xsettings ,往 ~/.i3/config 加入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exec_always --no-startup-id nohup /usr/lib/gsd-xsettings &gt; /dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>
<p>系统语言非中文时，中文全显示成方块，需要在 /opt/deepinwine/tools/run.sh 中将 WINE_CMD 那一行修改为</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WINE_CMD=<span class="string">&quot;LC_ALL=zh_CN.UTF-8 deepin-wine&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="WeChat"><a href="#WeChat" class="headerlink" title="WeChat"></a><a target="_blank" rel="noopener" href="https://github.com/countstarlight/deepin-wine-wechat-arch">WeChat</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yay -S deepin-wine-wechat</span><br><span class="line">/opt/deepinwine/apps/Deepin-WeChat/run.sh</span><br></pre></td></tr></table></figure>
<h2 id="python"><a href="#python" class="headerlink" title="python"></a>python</h2><p><a target="_blank" rel="noopener" href="https://github.com/joh/when-changed">when-changed</a>: 监控文件变动并且执行命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install when-changed</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install ipdb</span><br></pre></td></tr></table></figure>
        
    </section>
</article>



<a id="pagenext" href="/2019/10/26/vim/" class="article-next" title="vim"><i class="icon-arrow-right"></i></a>


<a id="pageprev" href="/2020/06/02/openshot/" class="article-prev" title="openshot新建视频尺寸"><i class="icon-arrow-left"></i></a>



<div class="comments">
    <div id="comments"></div>
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>
    new Gitalk({
        clientID: "7fbe80427f54741e289f",
        clientSecret: "f34ed5fd92e54c9000bd37ba951948cb939deff5",
        repo: "sanonz.github.io",
        owner: "sanonz",
        admin: ["sanonz"],
        id: "e854c0652921eab53b279eef5045a062",
        distractionFreeMode: true,
        title: "TODO_after_manjaro_installed",
        body: "https://humble-zh.github.io/2020/04/27/TODO_after_manjaro_installed/",
        labels: ["linux","manjaro"]
    }).render('comments');
    </script>
</div>



            </div>
        </div>
        <footer class="footer">
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, Theme by <a href="https://github.com/sanonz/hexo-theme-concise" target="_blank">Concise</a>

    
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?e4027971a230b210f4671f485b33846a";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    
</footer>

    </main>

    <script type="text/javascript" src="https://unpkg.com/jquery@1.9.1/jquery.min.js"></script>
    <script type="text/javascript">
    $(function() {
        var nodes = {
            nav: $('#nav'),
            aside: $('#aside'),
            asideInner: $('#aside-inner'),
            navInner: $('#nav-inner')
        };

        var doing = false;
        nodes.asideInner.on('webkitAnimationEnd mozAnimationEnd oAnimationEnd oanimationend animationend', function() {
            if (nodes.aside.hasClass('mobile-open')) {
                nodes.aside.removeClass('mobile-open');
            } else {
                nodes.aside.removeClass('mobile-close panel-show');
            }
            doing = false;
        });
        $('#open-panel, #aside-mask').on('click', function() {
            if (doing) {
                return;
            }

            if (nodes.aside.hasClass('panel-show')) {
                nodes.aside.addClass('mobile-close');
            } else {
                nodes.aside.addClass('mobile-open panel-show');
            }
        });
        $('#open-menus').on('click', function() {
            nodes.navInner.slideToggle('normal', slideDone);
        });

        if (window.innerWidth <= 960) {
            setTimeout(function() {
                nodes.navInner.slideUp('normal', slideDone);
            }, 3000);
        }

        function slideDone() {
            if (nodes.navInner.css('display') !== 'none') {
                nodes.navInner.css('display', '');
            }
        }

        $(window).on('resize', function() {
            if ($(this).width() > 960) {
                nodes.navInner.css('display', '');
            }
        });
    });
    </script>
    
        
<script src="/js/scrollspy.min.js"></script>

        <script type="text/javascript">
        $(document.body).scrollspy({target: '#aside-inner'});

        $(window).on('resize', function() {
            var hw = $('#header').width();
            var ww = $('#wrapper').width();
            var space = ($(this).width() - hw - ww) / 2 / 2;

            var pageprev = $('#pageprev');
            var pagenext = $('#pagenext');
            var avg = (pageprev.width() + pagenext.width()) / 2

            if(space > avg) {
                var len = space - avg / 2;
                var styles = {position: 'fixed', top: '50%', marginTop: - (pageprev.width() + pagenext.width()) / 4}
                pageprev.css($.extend({left: hw + len}, styles));
                pagenext.css($.extend({right: len}, styles));
            } else {
                pageprev.removeAttr('style');
                pagenext.removeAttr('style');
            }
        }).trigger('resize');
        </script>
    

</body>
</html>
